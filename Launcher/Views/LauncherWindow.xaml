<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ViewModels="clr-namespace:FoM.Launcher.ViewModels" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing" mc:Ignorable="d" x:Class="FoM.Launcher.Views.LauncherWindow"
        Title="LauncherWindow" Height="600" Width="800" WindowStartupLocation="CenterScreen">
	<Window.Resources>
		<Style TargetType="TextBlock"/>
		<Style TargetType="{x:Type StackPanel}" x:Key="NeedsLoginVisible">
			<Style.Triggers>
				<DataTrigger Binding="{Binding PatchState}" Value="NeedsLogin">
					<Setter Property="Visibility" Value="Visible" />
				</DataTrigger>
			</Style.Triggers>
		</Style>
		<Style TargetType="{x:Type ProgressBar}" x:Key="PatchProgress">
			<Style.Triggers>
				<DataTrigger Binding="{Binding PatchState}" Value="UpdateCheck">
					<Setter Property="IsIndeterminate" Value="True"/>
				</DataTrigger>
			</Style.Triggers>
		</Style>
		<BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <ViewModels:LauncherWindowViewModel x:Key="LauncherWindowViewModelDataSource" d:IsDataSource="True"/>
    </Window.Resources>
	<DockPanel x:Name="dockPanel" DataContext="{Binding Source={StaticResource LauncherWindowViewModelDataSource}}" Margin="10" Background="#FF404040">
		<Canvas Background="#FFFFEEA1" DockPanel.Dock="Top" HorizontalAlignment="Center" Height="200" Width="{Binding ActualWidth, ElementName=dockPanel}"/>
		<StackPanel VerticalAlignment="Top" HorizontalAlignment="Center" Margin="0,-63,0,0" DockPanel.Dock="Bottom" Panel.ZIndex="1">
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
				<TextBlock Text="Current Patch Activity: " />
				<TextBlock TextWrapping="Wrap" Text="{Binding PatchState, Mode=OneWay}"/>
			</StackPanel>
			<ProgressBar Height="20" Width="250" Style="{DynamicResource PatchProgress}" Value="{Binding PatchProgress, Mode=OneWay}"/>
			<Button Content="Options" Width="75" Command="{Binding PreferencesCommand, Mode=OneWay}"/>
		</StackPanel>
		<UniformGrid DockPanel.Dock="Top" Background="#FFAAFFFB" Rows="1" Columns="2">
			<StackPanel Background="#FFB1FFB8">
				<TextBlock TextWrapping="Wrap" Text="Patch News" HorizontalAlignment="Center" Background="#FFDEDEDE"/>
			</StackPanel>
			<StackPanel Background="#FFF6BBFF">
				<TextBlock TextWrapping="Wrap" Text="Welcome" HorizontalAlignment="Center" Background="#FFC5C5C5"/>
				<StackPanel VerticalAlignment="Top" MinWidth="150" MinHeight="90">
					<TextBlock TextWrapping="Wrap" HorizontalAlignment="Center"><Run Text="You must login to continue"/></TextBlock>
					<TextBox Height="23" TextWrapping="Wrap" Text="{Binding Username, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="120"/>
					<TextBox Width="120" Height="23" Text="{Binding Password, UpdateSourceTrigger=PropertyChanged}" />
					<Button Content="Login" Width="75" Command="{Binding LoginCommand, Mode=OneWay}"/>
					<TextBlock TextWrapping="Wrap" Text="{Binding LoginErrorMessage, Mode=OneWay}" VerticalAlignment="Top" HorizontalAlignment="Center" Foreground="Red"/>
				</StackPanel>
			</StackPanel>
		</UniformGrid>
	</DockPanel>
</Window>
